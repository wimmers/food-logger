(this["webpackJsonpfood-logger"]=this["webpackJsonpfood-logger"]||[]).push([[0],{50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},94:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var c=n(3),r=n(0),i=n.n(r),o=n(14),a=n.n(o),s=(n(50),n(12)),l=(n(51),n(42)),u=n(41),d=n(106),j=n(103),h=n(104),b=n(107),m=n(105),f=n(8),p=n(19),g=n(7),O=n(44),x=n(18),v=(n(52),n(53)),k=[48.1351,11.582],w=[1,2,3,5,10,15],y=(new f.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-black.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png"}),new f.Icon.Default({className:"huechange-190"})),S=new f.Icon.Default({className:"huechange-140"}),M=new f.Icon.Default({className:"huechange-280"}),C=new f.Icon.Default;var T=function(e){var t=e.onUpdateMarkets,n=e.supermarkets,i=e.selectedMarkets,o=e.setMap,a=Object(r.useState)(null),l=Object(s.a)(a,2),f=l[0],T=l[1],N=function(e){t(e)},z=function(e){var t=f;if(null!==t){var n="\n            [out:json][timeout:25];\n            node\n                [shop=supermarket]\n                (around:".concat(1e3*e,", ").concat(t.lat,", ").concat(t.lng,");\n                out;\n        ");v(n,{fetchMode:"cors"}).then(N).catch(console.error)}};function I(){return Object(u.b)({click:function(e){T(e.latlng)},locationfound:function(e){console.log("location found:",e)}}),null}return Object(c.jsxs)(h.a,{center:k,zoom:13,scrollWheelZoom:!1,children:[Object(c.jsx)(b.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(c.jsx)(I,{}),Object(c.jsx)(m.a,{children:function(e){return console.log("map center:",e.getCenter()),o(e),null}}),Object(c.jsx)(d.a,{position:k,icon:S,children:Object(c.jsxs)(j.a,{children:["This is Munich on OSM. ",Object(c.jsx)("br",{})," Try to click somewhere else."]})}),f?Object(c.jsx)(d.a,{position:f,icon:y,children:Object(c.jsxs)(j.a,{children:[Object(c.jsxs)(O.a,{id:"test",variant:"outline-primary",title:"Find shops",onClick:function(){return z(1)},children:[w.map((function(e){return Object(c.jsx)(x.a.Item,{eventKey:e.toString(),onClick:function(){return z(e)},children:"Radius: ".concat(e," km")})})),Object(c.jsx)(x.a.Divider,{})]}),")"]})}):null,function(){if(null===n)return null;return n.map((function(e,t,n){return function(e){var t=[e.lat,e.lon],n=e.tags,r=function(e){return void 0!==e?e:""},o="".concat(r(n["addr:street"])," ").concat(r(n["addr:housenumber"]),",\n            ").concat(r(n["addr:postcode"])," ").concat(r(n["addr:city"]),"\n            "),a=i.includes(e.id)?M:C;return Object(c.jsx)(d.a,{position:t,icon:a,children:Object(c.jsx)(j.a,{children:Object(c.jsx)(g.a,{children:Object(c.jsxs)(g.a.Body,{children:[Object(c.jsx)(g.a.Title,{children:n.name?n.name:"Unknown"}),n.brand?Object(c.jsx)(g.a.Text,{children:"Brand: "+n.brand}):null,void 0!==n["addr:street"]?Object(c.jsxs)(g.a.Text,{children:[o," "]}):null,Object(c.jsx)(p.a,{variant:"outline-primary",onClick:function(t){return N([e])},children:"Find products at this shop"})]})})})},e.id.toString())}(e)}))}()]})},N=n(33),z=(n(94),{0:{name:"Vegan blu",description:"A vegan blue cheese"},1:{name:"Simply V w\xfcrzige Genie\xdferscheiben",description:"The best",image:"https://static.openfoodfacts.org/images/products/426/044/496/0339/front_de.7.full.jpg"},3:{name:"Primitivo goes vegan",description:"reddish goodness"},4:{name:"Chardonnay vegan",description:"weird mix of white grapes"}}),I=[{name:"Cheeses",products:[0,1,0,1,0,1]},{name:"Wines",products:[3,4,3,4,3,4]}];function D(e){var t=e.product,n=e.onClick,r=e.selected;return Object(c.jsxs)(g.a,{onClick:n,bg:r?"primary":void 0,text:r?"light":void 0,children:[t.image?Object(c.jsx)(g.a.Img,{variant:"top",src:t.image,className:"product-img"}):Object(c.jsx)("div",{className:"product-img"}),Object(c.jsxs)(g.a.Body,{children:[Object(c.jsx)(g.a.Title,{children:t.name}),Object(c.jsx)(g.a.Text,{children:t.description})]})]})}var P=function(e){var t=e.categories,n=e.products,r=e.onSelectProduct,i=e.selectedProduct,o=t.map((function(e,t,o){return Object(c.jsxs)(g.a,{children:[Object(c.jsx)(N.a.Toggle,{as:g.a.Header,eventKey:t.toString(),children:e.name}),Object(c.jsx)(N.a.Collapse,{eventKey:t.toString(),children:Object(c.jsx)(g.a.Body,{children:Object(c.jsx)("div",{className:"card-columns",children:(a=e.products,a.map((function(e){return void 0===n[e]?null:Object(c.jsx)(D,{product:n[e],onClick:function(){r(e)},selected:i===e},e)})))})})})]},t);var a}));return Object(c.jsx)(N.a,{defaultActiveKey:"0",children:o})},B=n(43);var F=function(){var e=Object(r.useState)(z),t=Object(s.a)(e,2),n=t[0],i=t[1],o=Object(r.useState)(void 0),a=Object(s.a)(o,2),u=a[0],d=a[1],j=Object(r.useState)(null),h=Object(s.a)(j,2),b=h[0],m=h[1],f=Object(r.useState)([]),p=Object(s.a)(f,2),g=p[0],O=p[1];Object(r.useEffect)((function(){if(null!==b)if(void 0===u)O([]);else{var e=b.map((function(e){return e.id})).filter((function(e){return Math.random()>=.5}));O(e)}}),[u,b]);var x=Object(r.useRef)(null),v=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),k=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),w=v>=k;return Object(c.jsx)(l.a,{fluid:!0,style:{height:k},children:Object(c.jsxs)(B.a,{sizes:[50,50],className:"full-size",onDragEnd:function(e){var t=x.current;null!==t&&t.invalidateSize()},direction:w?"horizontal":"vertical",gutterSize:20,children:[Object(c.jsx)("div",{className:"split full-size",children:Object(c.jsx)(T,{supermarkets:b,onUpdateMarkets:function(e){m(e),function(e){var t=Object.keys(z).map((function(e){return Number(e)})).filter((function(e){return Math.random()>=.5})),n=t.reduce((function(e,t){return e[t]=z[t],e}),{});void 0===u||t.includes(u)||d(void 0),i(n)}()},selectedMarkets:g,setMap:function(e){return x.current=e}})}),Object(c.jsx)("div",{className:"split",children:Object(c.jsx)(P,{products:n,categories:I,selectedProduct:u,onSelectProduct:function(e){d(e===u?void 0:e)}})})]})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,108)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),i(e),o(e)}))};n(95);a.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(F,{})}),document.getElementById("root")),E()}},[[96,1,2]]]);
//# sourceMappingURL=main.583c6e84.chunk.js.map